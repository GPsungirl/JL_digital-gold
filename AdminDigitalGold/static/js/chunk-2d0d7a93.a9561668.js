(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7a93"],{7884:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pad_5"},[a("div",{staticClass:"query_fields pad_b_no"},[a("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm,size:"mini","label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"username"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"姓名"},model:{value:e.queryForm.username,callback:function(t){e.$set(e.queryForm,"username",t)},expression:"queryForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"手机号"},model:{value:e.queryForm.phone,callback:function(t){e.$set(e.queryForm,"phone",t)},expression:"queryForm.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryData}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.resetData("queryForm")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_refresh}},[e._v("刷新")])],1)],1)],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"username",label:"姓名",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"digit_account",label:"数字钱包",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankcard",label:"银行卡号","show-overflow-tooltip":!0,width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"用户状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.user_status?a("span",[e._v("不可用")]):e._e(),e._v(" "),1==t.row.user_status?a("span",[e._v("可用")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.user_status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle_frozen(t.row)}}},[e._v("冻结")]):a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle_frozen(t.row)}}},[e._v("解冻")])]}}])})],1),e._v(" "),a("div",{staticClass:"block mar_t10"},[a("el-pagination",{attrs:{"current-page":e.currentPage,total:e.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.detail_loading,expression:"detail_loading"}],staticClass:"agent_detail",attrs:{title:"买入详情",visible:e.detail_dialogVisible,width:"",center:"","close-on-click-modal":!1,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(t){e.detail_dialogVisible=t}}},[a("el-form",{ref:"detail_form",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.detail_form,"label-width":"68px",disabled:""}},[a("el-form-item",{attrs:{label:"姓名",prop:"username"}},[a("el-input",{staticClass:"wid_180",attrs:{placeholder:""},model:{value:e.detail_form.username,callback:function(t){e.$set(e.detail_form,"username",t)},expression:"detail_form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{staticClass:"wid_180",attrs:{placeholder:""},model:{value:e.detail_form.phone,callback:function(t){e.$set(e.detail_form,"phone",t)},expression:"detail_form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行账号",prop:"bankcard"}},[a("el-input",{staticClass:"wid_180",attrs:{placeholder:""},model:{value:e.detail_form.bankcard,callback:function(t){e.$set(e.detail_form,"bankcard",t)},expression:"detail_form.bankcard"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"买入数量",prop:"digit_num"}},[a("el-input",{staticClass:"wid_180",attrs:{placeholder:""},model:{value:e.detail_form.digit_num,callback:function(t){e.$set(e.detail_form,"digit_num",t)},expression:"detail_form.digit_num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单价",prop:"single_price"}},[a("el-input",{staticClass:"wid_180",attrs:{placeholder:""},model:{value:e.detail_form.single_price,callback:function(t){e.$set(e.detail_form,"single_price",t)},expression:"detail_form.single_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总金额",prop:"total_amount"}},[a("el-input",{staticClass:"wid_180",attrs:{placeholder:""},model:{value:e.detail_form.total_amount,callback:function(t){e.$set(e.detail_form,"total_amount",t)},expression:"detail_form.total_amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态",prop:"pay_status"}},[a("el-input",{staticClass:"wid_180",attrs:{placeholder:""},model:{value:e.detail_form.pay_status,callback:function(t){e.$set(e.detail_form,"pay_status",t)},expression:"detail_form.pay_status"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.detail_dialogVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},s=[],i=a("cf45"),n=a("5f87"),o=(a("61f7"),a("bc3a")),l=a.n(o),d={name:"userInfoList",data:function(){return{roleId:"",tableLoading:!1,tableData:[],pageTotal:1,currentPage:1,detail_pageTotal:0,detail_currentPage:1,queryForm:{username:"",phone:""},value1:"",detail_dialogVisible:!1,detail_loading:!1,detail_form:{username:"",phone:"",bankcard:"",digit_num:"",single_price:"",total_amount:"",pay_status:""}}},created:function(){this.roleId=this.$store.getters.roleId,this.getTableDataList(1)},methods:{getTableDataList:function(e){var t=this,a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:e,pageSize:10,username:this.queryForm.username,phone:this.queryForm.phone}};this.tableLoading=!0,this.$http.post("".concat(i["a"].baseUrl,"/userInfo/userInfoList"),a).then((function(e){"0000"==e.data.code?(console.log(e),t.tableLoading=!1,t.tableData=e.data.data.userInfoList,t.pageTotal=e.data.data.page.pageTotal):(t.tableLoading=!1,t.m_message(e.data.msg,"error"))})).catch((function(e){}))},handle_frozen:function(e){var t,a=this,r="",s="";1==e.user_status?(s="冻结",r="是否冻结该用户?",t="0"):(s="解冻",r="是否解冻该用户?",t="1"),this.$confirm(r,s,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",size:"mini",center:!0}).then((function(){var r=a.$loading({lock:!0,text:"加载中.....",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),s={data:{signInUserId:a.$store.getters.userId,signInRoleId:a.$store.getters.roleId,user_status:t,userid:e.userid}};a.$http.post("".concat(i["a"].baseUrl,"/userInfo/updateUserStatus"),s).then((function(e){"0000"==e.data.code?(r.close(),a.m_message(e.data.msg,"success"),a.handle_refresh()):(r.close(),a.m_message(e.data.msg,"warning"))})).catch((function(e){}))}))},handle_returnM:function(e){var t=this;this.$confirm("是否返预付?","返预付",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",size:"mini",center:!0}).then((function(){var a={data:{signInUserId:t.$store.getters.userId,signInRoleId:t.$store.getters.roleId,pre_amount_status:"1",orderid:e.orderid}};t.$http.post("".concat(i["a"].baseUrl,"/orderInfo/updatePreAmountStatus"),a).then((function(e){"0000"==e.data.code?(t.m_message(e.data.msg,"success"),t.handle_refresh()):t.m_message(e.data.msg,"warning")})).catch((function(e){}))}))},handle_detail:function(e){var t=this;this.detail_dialogVisible=!0,this.resetData("detail_form");var a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,orderid:e.orderid}};this.detail_loading=!0,this.$http.post("".concat(i["a"].baseUrl,"/orderInfo/selectOrderInfo"),a).then((function(e){if("0000"==e.data.code){var a=e.data.data.orderInfo;t.detail_form.username=a.username,t.detail_form.phone=a.phone,t.detail_form.bankcard=a.bankcard,t.detail_form.digit_num=a.digit_num,t.detail_form.single_price=a.single_price,t.detail_form.total_amount=a.total_amount,t.detail_form.pay_status=1==a.pay_status?"已付款":"未付款",t.detail_loading=!1}else t.detail_loading=!1,t.m_message(e.data.msg,"warning")})).catch((function(e){}))},check_resolve:function(e){var t=this,a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,identityid:this.detail_form.identityid,idcard_check_status:e,phone:this.detail_form.phone}};"0"==e&&(a.data.cosHeadUrl=this.detail_form.denyData.cosHeadUrl,a.data.cosOpenmouthUrl=this.detail_form.denyData.cosOpenmouthUrl,a.data.cosShakeUrl=this.detail_form.denyData.cosShakeUrl,a.data.cosBlinkUrl=this.detail_form.denyData.cosBlinkUrl,a.data.cosIdcardFrontUrl=this.detail_form.denyData.cosIdcardFrontUrl),this.detail_loading=!0,this.$http.post("".concat(i["a"].baseUrl,"/identityInfo/updateIdentityCheckStatus"),a).then((function(e){"0000"==e.data.code?(t.m_message(e.data.msg,"success"),t.detail_loading=!1,t.detail_dialogVisible=!1,t.handle_refresh()):(t.detail_loading=!1,t.m_message(e.data.msg,"warning"))})).catch((function(e){}))},exportData:function(e){var t=Object(n["a"])(),a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});l()({method:"post",url:"".concat(i["a"].baseUrl).concat(e),headers:{Authorization:t},data:{data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime,memberType:this.queryForm.memberType,startMemberTime:this.queryForm.startMemberTime,endMemberTime:this.queryForm.endMemberTime,username:this.queryForm.username,up_username:this.queryForm.up_username,grand_username:this.queryForm.grand_username,agent_name:this.queryForm.agent_name}},responseType:"blob"}).then((function(e){a.close();var t=e.headers["content-disposition"],r=document.createElement("a"),s=new Blob([e.data],{type:"text/csv"});r.style.display="none",r.href=URL.createObjectURL(s),r.setAttribute("download","".concat(t)),document.body.appendChild(r),r.click(),document.body.removeChild(r)})).catch((function(e){a.close()}))},queryData:function(){this.getTableDataList(1),this.currentPage=1},resetData:function(e){this.$refs[e]&&this.$refs[e].resetFields(),this.queryForm.startTime="",this.queryForm.endTime="",this.queryForm.startMemberTime="",this.queryForm.endMemberTime=""},handle_refresh:function(){this.getTableDataList(this.currentPage)},handleCurrentChange:function(e){this.currentPage=e,this.getTableDataList(e)},m_valid_addForm:function(e){var t=!1;return this.$refs[e].validate((function(e){return e?(t=!0,!0):(t=!1,!1)})),t},m_message:function(e,t){this.$message({message:e,type:t})}}},c=d,u=a("2877"),m=Object(u["a"])(c,r,s,!1,null,null,null);t["default"]=m.exports}}]);